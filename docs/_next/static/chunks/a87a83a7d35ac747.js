(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,70260,e=>{"use strict";e.s(["COLLECTIONS",0,{FACTIONS:"factions",LORE:"lore",MEMBERS:"members",GALLERY:"gallery",CLIPS:"clips",UPDATES:"updates",USERS:"users"}])},7585,e=>{"use strict";var a=e.i(43476),t=e.i(71645),r=e.i(46932);e.i(36180);var i=e.i(98925),n=e.i(59141),s=e.i(77117),o=e.i(70260),l=e.i(94690);function d(){let{userRole:e}=(0,l.useAuth)(),[d,c]=(0,t.useState)(!1),[m,u]=(0,t.useState)(null);e?.isSuperAdmin;let f=async()=>{let e=(0,n.getFirebaseDb)();if(!e)return void h("error","Database not available");if(confirm("This will wipe existing lore and rosters for all factions and reset them to defaults. Are you sure?")){c(!0);try{let a={redacted:[{name:"Eevee Jacobs",role:"Leader",rank:"Founder",isLeader:!0},{name:"Henry Royce",role:"Gaffa",rank:"Co-Founder",isLeader:!1},{name:'Jackson "JakJak" Jacobs',role:"Lieutenant",rank:"Officer",isLeader:!1},{name:"Jimmy Streets",role:"Gaffa",rank:"Officer",isLeader:!1},{name:"Marianna Cross",role:"Enforcer",rank:"Veteran",isLeader:!1},{name:"Damon Vox",role:"Enforcer",rank:"Veteran",isLeader:!1},{name:"Swae Lee",role:"Enforcer",rank:"Veteran",isLeader:!1},{name:"Skittlez McBooba",role:"Enforcer",rank:"Veteran",isLeader:!1},{name:"Monkey D. Luffy",role:"Soldier",rank:"Member",isLeader:!1},{name:"Jinn Cross",role:"Soldier",rank:"Member",isLeader:!1},{name:"Derek Cross",role:"Soldier",rank:"Member",isLeader:!1},{name:"Trashy",role:"Runner",rank:"Prospect",isLeader:!1},{name:"Asher Riggs",role:"Runner",rank:"Prospect",isLeader:!1},{name:"Sunny Shreds",role:"Runner",rank:"Prospect",isLeader:!1},{name:"Nav White",role:"Runner",rank:"Prospect",isLeader:!1},{name:"Amir",role:"Runner",rank:"Prospect",isLeader:!1},{name:"Brad Gibbs",role:"Runner",rank:"Prospect",isLeader:!1}]};for(let t of s.factions){await (0,i.setDoc)((0,i.doc)(e,o.COLLECTIONS.FACTIONS,t.id),{...t,createdAt:new Date,updatedAt:new Date});let r=(await (0,i.getDocs)((0,i.collection)(e,o.COLLECTIONS.FACTIONS,t.id,"lore"))).docs.map(e=>(0,i.deleteDoc)(e.ref));for(let a of(await Promise.all(r),[{title:"The Beginning",content:`The founding story of ${t.name}.`,year:"2024",order:0},{title:"Rise to Power",content:`How ${t.name} claimed their territory.`,year:"2024",order:1},{title:"The Code",content:`The rules and values that define ${t.name}.`,year:"2025",order:2}]))await (0,i.addDoc)((0,i.collection)(e,o.COLLECTIONS.FACTIONS,t.id,"lore"),{factionId:t.id,...a,createdAt:new Date,updatedAt:new Date});let n=(await (0,i.getDocs)((0,i.collection)(e,o.COLLECTIONS.FACTIONS,t.id,"members"))).docs.map(e=>(0,i.deleteDoc)(e.ref));for(let r of(await Promise.all(n),a[t.id]||[{name:"Unknown",role:"Leader",rank:"Founder",isLeader:!0},{name:"Unknown",role:"Member",rank:"Member",isLeader:!1}]))await (0,i.addDoc)((0,i.collection)(e,o.COLLECTIONS.FACTIONS,t.id,"members"),{factionId:t.id,...r,joinedAt:new Date,updatedAt:new Date})}h("success",`Successfully wiped and re-seeded ${s.factions.length} factions!`)}catch(e){console.error("Error seeding database:",e),h("error","Failed to seed database. Check console for details.")}c(!1)}},h=(e,a)=>{u({type:e,text:a}),setTimeout(()=>u(null),5e3)};return(0,a.jsxs)("div",{children:[(0,a.jsx)(r.motion.h1,{className:"text-3xl font-bold text-white mb-2",initial:{opacity:0,y:20},animate:{opacity:1,y:0},children:"Settings"}),(0,a.jsx)(r.motion.p,{className:"text-[var(--foreground-muted)] mb-8",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},children:"System configuration and database management"}),m&&(0,a.jsx)(r.motion.div,{className:`mb-6 p-4 rounded-lg ${"success"===m.type?"bg-green-500/10 border-green-500/30 text-green-400":"bg-red-500/10 border-red-500/30 text-red-400"} border`,initial:{opacity:0,y:-10},animate:{opacity:1,y:0},children:m.text}),(0,a.jsxs)("div",{className:"grid gap-6 max-w-2xl",children:[(0,a.jsxs)(r.motion.div,{className:"glass-card p-6",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},children:[(0,a.jsx)("h2",{className:"text-lg font-semibold text-white mb-4",children:"Database"}),(0,a.jsxs)("p",{className:"text-[var(--foreground-muted)] mb-4",children:["Seed the Firestore database with initial faction data. This will create documents for all ",s.factions.length," factions with sample lore entries."]}),(0,a.jsx)("button",{onClick:f,disabled:d,className:"btn-cinematic disabled:opacity-50",children:d?"Seeding...":"Seed Database"})]}),(0,a.jsxs)(r.motion.div,{className:"glass-card p-6",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},children:[(0,a.jsx)("h2",{className:"text-lg font-semibold text-white mb-4",children:"Firebase Project"}),(0,a.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-[var(--foreground-muted)]",children:"Project ID:"}),(0,a.jsx)("span",{className:"text-white font-mono",children:"illegalfactions-6a5e8"})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-[var(--foreground-muted)]",children:"Auth Domain:"}),(0,a.jsx)("span",{className:"text-white font-mono",children:"illegalfactions-6a5e8.firebaseapp.com"})]})]})]}),(0,a.jsxs)(r.motion.div,{className:"glass-card p-6",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},children:[(0,a.jsx)("h2",{className:"text-lg font-semibold text-white mb-4",children:"Super Admin Setup"}),(0,a.jsx)("p",{className:"text-[var(--foreground-muted)] mb-4",children:"To set yourself as a Super Admin:"}),(0,a.jsxs)("ol",{className:"list-decimal list-inside space-y-2 text-[var(--foreground-muted)]",children:[(0,a.jsx)("li",{children:"Create an account in Firebase Console → Authentication"}),(0,a.jsx)("li",{children:"Copy your User UID"}),(0,a.jsx)("li",{children:"Go to Firestore → users collection"}),(0,a.jsx)("li",{children:"Create a document with ID = your UID"}),(0,a.jsxs)("li",{children:["Add fields: ",(0,a.jsx)("code",{className:"text-red-400",children:"isSuperAdmin: true"}),", ",(0,a.jsx)("code",{className:"text-red-400",children:'email: "your@email.com"'})]})]})]})]})]})}e.s(["default",()=>d])}]);